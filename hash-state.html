<!-- Copyright (c) 2014 Jonathan Herman - MIT License (http://opensource.org/licenses/MIT) -->
<!--
hosted version:
	http://jdh11235.github.io/JSplaygrounds/hash-state.html
more info:
	http://github.com/jdh11235/JSplaygrounds
-->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>hash-state</title>

	<style>
		.info {
			color: brown;
		}
	</style>
</head>
<body>
	<input type="text" id="input" oninput="setHash($input.value)" autofocus>

	<p>
		hash: <code id="output"></code>
		<br>
<!--		parsed JSON: <code id="JSONoutput"></code>-->
	</p>

	<hr>

	<center>
		<a class="info" href="http://github.com/jdh11235/JSplaygrounds">More Info...</a>
	</center>

	<script>
		var $input = document.getElementById('input');
		var	$output = document.getElementById('output');
//		var	$JSONoutput = document.getElementById('JSONoutput');

		window.onload = init;
		window.onhashchange = refreshInput;

		function init() {
			refreshInput();
		}

		function refreshInput() {
			$input.value = getHash();
			displayHash();
		}

		function displayHash() {
			var hash = getHash();
			$output.innerHTML = hash;
//			try {
//				$JSONoutput.innerHTML = JSON.stringify(JSON.parse(hash));
//			} catch (e) {
//				$JSONoutput.innerHTML = e;
//			}
		}

		function getHash() {
			return decodeURIComponent(location.hash.substring(1));
		}

		function setHash(hash) {
			location.hash = encodeURIComponent(hash);
			displayHash();
		}
	</script>
</body>
</html>
